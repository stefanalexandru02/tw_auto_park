<div class="top_navigation" id="myTopnav">
    <a href="/"> 
        <img src="/resources/images/logo.webp"/>
    </a>
    <a href="/statistici_detalii.html" id="statistics_link">
        <p>Statistici</p>
    </a>
    <a href="/contact.html" id="contact_link">
        <p>Contact</p>
    </a>
    <a href="/despre.html" id="about_link">
        <p>Despre</p>
    </a>
    <a id="login_link" class="float-right"></a>
    <!-- <div class="search-container">
        <form action="/action_page.php">
            <input type="text" placeholder="Search.." name="search">
            <button type="submit"><i class="fa fa-search"></i></button>
        </form>
    </div> -->
    <a href="javascript:void(0);" class="icon" onclick="myFunction()">
        <i class="fa fa-bars"></i>
    </a>
</div>
<script>
    switch(window.location.pathname)
    {
        case "/statistici_harta.html":
        case "/statistici_detalii.html":
            document.getElementById("statistics_link").className = "active";
            break;
        case "/contact.html":
            document.getElementById("contact_link").className = "active";
            break;
        case "/despre.html":
            document.getElementById("about_link").className = "active";
            break;
        case "/login.html":
        case "/register.html":
            document.getElementById("login_link").className = "float-right active";
            break;
    }
    $.ajax({
        url: "/api/check_auth",
        type: "GET",
        headers: {
            "Authorization": `Bearer ${localStorage.getItem("token")}`
        },
        success: function(data) { 
            console.log("Sunt logat");
        },
        error: function(e) {
            if(e.status === 401) {
                $('#login_link').append("<p>Autentifica</p>");
                $('#login_link').attr("href", "/login.html");
                localStorage.setItem("token", "");
            } else if(e.status === 200) {
                $('#login_link').append("<p>Contul meu</p>");
                $('#login_link').attr("href", "/admin.html");
            }
        }
    });   
</script>